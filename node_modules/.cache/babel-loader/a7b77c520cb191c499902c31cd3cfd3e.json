{"ast":null,"code":"import _classCallCheck from \"/Users/vivian/Desktop/Front_End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vivian/Desktop/Front_End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vivian/Desktop/Front_End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vivian/Desktop/Front_End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/vivian/Desktop/Front_End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/vivian/Desktop/Front_End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vivian/Desktop/Front_End/src/page/RRH/Page/end.js\";\nimport React from 'react';\nimport classes from '../../ComplexNumber/Page/index.module.css';\nimport classes2 from './index.module.css';\nimport { AskQuestion } from \"../Component/ask-question\";\nimport { MDBBtn, MDBCol, MDBRow } from \"mdbreact\";\nvar SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\nvar recognition = new SpeechRecognition();\nrecognition.continous = true;\nrecognition.interimResults = true;\nrecognition.lang = 'en-US';\nexport var End =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(End, _React$Component);\n\n  function End(props) {\n    var _this;\n\n    _classCallCheck(this, End);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(End).call(this, props));\n    _this.state = {\n      listening: false,\n      speechState: 'Click to start...',\n      hints: ''\n    };\n    _this.toggleListen = _this.toggleListen.bind(_assertThisInitialized(_this));\n    _this.handleListen = _this.handleListen.bind(_assertThisInitialized(_this));\n    return _this;\n  } //--------------Speech Recognition--------------\n\n\n  _createClass(End, [{\n    key: \"toggleListen\",\n    value: function toggleListen() {\n      this.setState({\n        listening: !this.state.listening\n      }, this.handleListen);\n    }\n  }, {\n    key: \"handleListen\",\n    value: function handleListen() {\n      var _this2 = this;\n\n      console.log('listening?', this.state.listening);\n\n      if (this.state.listening) {\n        recognition.start();\n\n        recognition.onend = function () {\n          _this2.setState({\n            speechState: '...continue listening...'\n          });\n\n          recognition.start();\n        };\n      } else {\n        recognition.stop();\n\n        recognition.onend = function () {\n          _this2.setState({\n            speechState: 'Click to start...'\n          });\n        };\n      }\n\n      recognition.onstart = function () {\n        _this2.setState({\n          speechState: 'Listening...Click to pause'\n        });\n      };\n\n      var finalTranscript = '';\n\n      recognition.onresult = function (event) {\n        var interimTranscript = '';\n\n        for (var i = event.resultIndex; i < event.results.length; i++) {\n          var transcript = event.results[i][0].transcript;\n          if (event.results[i].isFinal) finalTranscript += transcript + ' ';else interimTranscript += transcript;\n        }\n\n        if (_this2.state.modal1) {\n          _this2.setState({\n            redQuestion: finalTranscript\n          });\n        } else if (_this2.state.modal2) {\n          _this2.setState({\n            wolfQuestion: finalTranscript\n          });\n        }\n\n        document.getElementById('interim').innerHTML = interimTranscript;\n        document.getElementById('final').value = finalTranscript; //-------------------------COMMANDS------------------------------------\n\n        var transcriptArr = finalTranscript.split(' ');\n        var stopCmd = transcriptArr.slice(-3, -1);\n        console.log('stopCmd', stopCmd);\n\n        if (stopCmd[0] === 'stop' && stopCmd[1] === 'listening') {\n          recognition.stop();\n\n          recognition.onend = function () {\n            console.log('Stopped listening per command');\n            var finalText = transcriptArr.slice(0, -3).join(' ');\n            document.getElementById('final').value = finalText;\n          };\n        }\n      }; //-----------------------------------------------------------------------\n\n\n      recognition.onerror = function (event) {\n        console.log(\"Error occurred in recognition: \" + event.error);\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(classes.body, \" align-content-center w-100 h-100 text-center\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(AskQuestion, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"d-flex align-items-baseline justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.title1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Q & A\")), React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        size: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(MDBCol, {\n        size: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes2.ph,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Great! Now you read the story and we have some question for you to answer.\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes2.border,\n        style: {\n          borderWidth: '1px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes2.ph,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"What is the format of a dividing complex numbers problem?\"), React.createElement(\"div\", {\n        className: \"flex-grow-1 px-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          padding: '50px 0 250px 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.props.history.goBack();\n        },\n        className: classes2.a,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"\\xAB Previous\"), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.props.history.push('/rrh/cover');\n        },\n        className: classes2.a,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Again \\xBB\")));\n    }\n  }]);\n\n  return End;\n}(React.Component);","map":{"version":3,"sources":["/Users/vivian/Desktop/Front_End/src/page/RRH/Page/end.js"],"names":["React","classes","classes2","AskQuestion","MDBBtn","MDBCol","MDBRow","SpeechRecognition","window","webkitSpeechRecognition","recognition","continous","interimResults","lang","End","props","state","listening","speechState","hints","toggleListen","bind","handleListen","setState","console","log","start","onend","stop","onstart","finalTranscript","onresult","event","interimTranscript","i","resultIndex","results","length","transcript","isFinal","modal1","redQuestion","modal2","wolfQuestion","document","getElementById","innerHTML","value","transcriptArr","split","stopCmd","slice","finalText","join","onerror","error","body","title1","ph","border","borderWidth","padding","history","goBack","a","push","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classes from '../../ComplexNumber/Page/index.module.css';\nimport classes2 from './index.module.css'\n\nimport {AskQuestion} from \"../Component/ask-question\";\nimport {MDBBtn, MDBCol, MDBRow} from \"mdbreact\";\n\n\nconst SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\nconst recognition = new SpeechRecognition();\n\nrecognition.continous = true;\nrecognition.interimResults = true;\nrecognition.lang = 'en-US';\n\nexport class End extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            listening: false,\n            speechState:'Click to start...',\n            hints:''\n        };\n        this.toggleListen = this.toggleListen.bind(this)\n        this.handleListen = this.handleListen.bind(this)\n\n\n    }\n\n    //--------------Speech Recognition--------------\n    toggleListen() {\n        this.setState({\n            listening: !this.state.listening\n        }, this.handleListen)\n    }\n\n    handleListen() {\n\n        console.log('listening?', this.state.listening)\n\n        if (this.state.listening) {\n            recognition.start();\n            recognition.onend = () => {\n                this.setState({\n                    speechState:'...continue listening...'\n                });\n                recognition.start()\n            }\n\n        } else {\n            recognition.stop();\n            recognition.onend = () => {\n                this.setState({\n                    speechState:'Click to start...'\n                });\n            }\n        }\n\n        recognition.onstart = () => {\n            this.setState({\n                speechState:'Listening...Click to pause'\n            });\n        }\n\n        let finalTranscript = '';\n        recognition.onresult = event => {\n            let interimTranscript = '';\n\n            for (let i = event.resultIndex; i < event.results.length; i++) {\n                const transcript = event.results[i][0].transcript;\n                if (event.results[i].isFinal) finalTranscript += transcript + ' ';\n                else interimTranscript += transcript;\n            }\n            if (this.state.modal1){\n                this.setState({\n                    redQuestion:finalTranscript\n                })\n            }\n            else if(this.state.modal2){\n                this.setState({\n                    wolfQuestion:finalTranscript\n                })\n            }\n            document.getElementById('interim').innerHTML = interimTranscript;\n            document.getElementById('final').value = finalTranscript;\n\n            //-------------------------COMMANDS------------------------------------\n\n            const transcriptArr = finalTranscript.split(' ');\n            const stopCmd = transcriptArr.slice(-3, -1);\n            console.log('stopCmd', stopCmd);\n\n            if (stopCmd[0] === 'stop' && stopCmd[1] === 'listening'){\n                recognition.stop();\n                recognition.onend = () => {\n                    console.log('Stopped listening per command');\n                    const finalText = transcriptArr.slice(0, -3).join(' ');\n                    document.getElementById('final').value = finalText\n                }\n            }\n        }\n\n        //-----------------------------------------------------------------------\n\n        recognition.onerror = event => {\n            console.log(\"Error occurred in recognition: \" + event.error)\n        }\n\n    }\n\n    render() {\n        return (\n            <div className={`${classes.body} align-content-center w-100 h-100 text-center`}>\n                <AskQuestion/>\n                <div className=\"d-flex align-items-baseline justify-content-center\">\n                    <div className={classes.title1}>\n                        Q & A\n                    </div>\n                </div>\n                <MDBRow>\n                    <MDBCol size=\"2\">\n\n                    </MDBCol>\n                    <MDBCol size=\"8\">\n                        <div className={classes2.ph}>\n                            Great! Now you read the story and we have some question for you to answer.\n                        </div>\n                        <br/>\n\n                        <div className={classes2.border} style={{borderWidth:'1px'}}>\n\n                            <p className={classes2.ph}>\n                                What is the format of a dividing complex numbers problem?\n                            </p>\n\n                            <div className=\"flex-grow-1 px-3\">\n\n                            </div>\n                            <br/>\n                        </div>\n\n                        <br/>\n                    </MDBCol>\n                </MDBRow>\n                <div style={{padding:'50px 0 250px 0'}}>\n                    {/*<div>*/}\n                        {/*<img className=\"py-2 my-3\" src={leaving} alt=\"village\" width=\"600\" height=\"400\"/>*/}\n                    {/*</div>*/}\n                    {/*/!*<p className=\"red-text\">*!/*/}\n                        {/*Lack end.jpg*/}\n                    {/*</p>*/}\n\n                    <div\n                        onClick={() => {this.props.history.goBack();}}\n                        className={classes2.a}>&laquo; Previous\n                    </div>\n                    <div\n                        onClick={() => {this.props.history.push('/rrh/cover');}}\n                        className={classes2.a}>Again &raquo;\n                    </div>\n\n                </div>\n\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}